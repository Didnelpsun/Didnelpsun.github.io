---
layout: post
title:  "react基础2"
date:   2019-05-14 14:25:49 +0800
categories: notes react
tags: react 基础 2
excerpt: "组件与参数"
---

## 组件

无论什么框架，都讲究一个组件复用的概念，react也是如此。

### &emsp;1.声明方式

我们要使用组件首先要构建组件，声明组件的方式有两种：

1. function()函数  
`function 组件名(参数){ return(<组件内容>)}`  
如：
```javascript
function Welcome(props) {
  return (
    <h1>Hello, {props.name} </h1>
    );
}
```

2. class()类  

`class 组件名 extends React.Component{render(){return(<组件内容>)}}`
如

```javascript
class Welcome extends React.Component {
  render() {
    return (
      <h1>Hello, {this.props.name}</h1>
    );
  }
}
```

<font color="orange">注意：</font>

组件名要大写。

### &emsp;2.组件使用

我们这里可以明白，所谓组件其实就是类，组件名就是类名（ES6前没有类的定义）

所以当定义了组件后，使用该组件就应该是以<组件名>的方式。

如：

```javascript
function Hi(){
  return (
    <h1>Hi</h1>
    )
}
const element=<Hi/>;
ReactDom.render(
  element,
  document.getElementById("root")
)
```

当组件不在当前文件需要引用：`import 组件名 from 地址`

## 参数

参数名一般即props，靠传入函数，也可以取为别的名字。一般为对象：`function 函数名(参数名){}`或者`class 类名(参数名){}`

参数的使用：`参数名.参数成员名`

如：

```javascript
function People(props){
  return (
    <h1>{props.name}</h1>
    <h2>{props.sex}</h2>
    )
}
const lisa = <People name="lisa" sex="woman">
```

参数是只读的，不能改变自身的参数。

同时组件内可以再嵌套参数，并且可以将参数传入大组件种的小组件，如官方给的例子：

```javascript
function Comment(props) {
  return (
    <div className="Comment">
      <div className="UserInfo">
        <img className="Avatar"
          src={props.author.avatarUrl}
          alt={props.author.name}
        />
        <div className="UserInfo-name">
          {props.author.name}
        </div>
      </div>
      <div className="Comment-text">
        {props.text}
      </div>
      <div className="Comment-date">
        {formatDate(props.date)}
      </div>
    </div>
  );
}

function Avatar(props) { //提取出一个组件并将一部分参数传入
  return (
    <img className="Avatar"
      src={props.user.avatarUrl}
      alt={props.user.name}
    />

  );
}

function Comment(props) { //改造后
  return (
    <div className="Comment">
      <div className="UserInfo">
        <Avatar user={props.author} />
        <div className="UserInfo-name">
          {props.author.name}
        </div>
      </div>
      <div className="Comment-text">
        {props.text}
      </div>
      <div className="Comment-date">
        {formatDate(props.date)}
      </div>
    </div>
  );
}
```
