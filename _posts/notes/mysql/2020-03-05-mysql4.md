---
layout: post
title:  "MySQL基础4"
date:   2020-03-05 13:40:10 +0800
categories: notes mysql base
tags: mysql MySQL 基础
excerpt: "数据类型"
---

## 数字类型

除了BIT类型，其他数字类型都可以有或无符号。

数字类型|描述
:------:|:--
TINYINT|一个很小的整数
SMALLINT|一个小的整数
MEDIUMINT|一个中等大小的整数
INT|一个标准整数
BIGINT|一个大整数
DECIMAL|定点数
FLOAT|单精度浮点数
DOUBLE|双精度浮点数
BIT|一个字节字段

### &emsp;1. TINYINT、SMALLINT、MEDIUMINT、INT、BIGINT

整数，无论正负。

类型|字节|有符号最小值|有符号最大值|无符号最大值
:--:|:--|:----------:|:---------:|:---------:
TINYINT|1|-2^4|2^4|2^8
SMALLINT|2|-2^8|2^8|2^16
SMALLINT|3|-2^12|2^12|2^24
SMALLINT|4|-2^16|2^16|2^32
SMALLINT|8|-2^32|2^32|2^64

```sql
--使用INT类型作为自加主键
CREATE TABLE items (
    item_id INT AUTO_INCREMENT PRIMARY KEY,
    item_text VARCHAR(255)
);
```

#### &emsp;&emsp;1.1INT()显示宽度

MySQL提供了一个扩展，允许指定显示宽度以及INT数据类型。显示宽度包含在INT关键字后面的括号内，例如，INT(3)指定一个显示宽度为三位数的INT。
<span style="color:orange">注意：</span>显示宽度属性不能控制列可以存储的值范围。显示宽度属性通常由应用程序用于格式化整数值。 MySQL将显示宽度属性作为返回结果集的元数据。

#### &emsp;&emsp;1.2ZEROFILL属性

在定义表单时如果在INT类型的数据后添加ZEROFILL属性，则会将所有的空格填充为0。

```sql
--创建表--
CREATE TABLE test(
    id INT AUTO_INCREMENT PRIMARY KEY,
    v1 INT(2) ZEROFILL,
    v2 INT(3) ZEROFILL,
    v3 INT(5) ZEROFILL
);
--插入新行--
INSERT into test(v1,v2,v3)
VALUES(2,2,2);
--查询数据--
SELECT v1,v2,v3
FROM test;
```

```terminal
>>>>>
+----+-----+-----+------+
|id  |v1   |v2   |v3    |
+----+-----+-----+------+
|0   |02   |002  |00002 |
+----+-----+-----+------+
```

因为已知会控制显示宽度，那么不满足宽度的默认将以空格填充，而使用ZEROFILL属性后将以0替代空格。

<span style="color:yellow">提示：</span>对整数列使用ZEROFILL属性，MySQL将自动将一个UNSIGNED属性添加到该列。

### &emsp;2. BIT

MySQL提供了允许您存储位值的BIT类型。BIT(m)可以存储多达m位的值，m的范围在1到64之间。如果省略，默认值为1。

要指定一个位值字面值，可使用b'val'或0bval来表示，该val是仅包含0和1的二进制值。
开头字符b可以写成B，例如b01和B11。

但是，前导0b是区分大小写的，所以不能使用0B。如0B'1000'就是错误的。

我们将创建一个表，用来保存工作日信息，并利用BIT进行相关处理：

```sql
CREATE TABLE working_calendar(
    y INT,
    w INT,
    days BIT(7),
    PRIMARY KEY(y,w)
);
--days列中的值表示工作日或休息日，即1：表示工作日，0表示休息日。--
--假设2017年第一周的星期六、星期日和星期五不是工作日，在working_calendar表中插入一行--
INSERT INTO working_calendar(y,w,days)
VALUES(2017,1,B'0111100');
--查询--
SELECT y, w , days
FROM working_calendar;
```

```terminal
>>>>>
+------+---+---------+
| y    | w | days    |
+------+---+---------+
| 2017 | 1 | <       |
+------+---+---------+
1 row in set
```

如上所见，days列中的位值被转换成一个字符（因为0111100转换为十进制为60，而60的ASCII码正好为<）。要将其表示为位值，请使用`BIN()`函数：

```sql
SELECT y, w , bin(days)
FROM working_calendar;
```

```terminal
>>>>>
+------+---+-----------+
| y    | w | bin(days) |
+------+---+-----------+
| 2017 | 1 | 111100    |
+------+---+-----------+
1 row in set
```

如果将值插入到长度小于m位的BIT(m)列中，MySQL将在位值的左侧使用零填充。比如这个案例我们插入的是01111100值，如果我们输入111100的值也可以工作，因为MySQL将使用零填充左侧。但是无论怎么样这个显示并不是我们想要的，我们要可以工作，也能显示我们原来的二进制数据，而它把前导符0给删掉了。

为了使其变为原来的样子，我们使用`LPAD()`函数进行填充，<span style="color:aqua">格式：</span>LPAD(数据,数据长度,填充值)

如我们再输入`SELECT y, w , lpad(bin(days),7,'0') FROM working_calendar;`将会变成我们原来的数据。

## 布尔类型

MySQL并没有内置的布尔类型，实际上也不必要，我们可以使用`TINYINT(1)`取代布尔值。

## 字符串类型

在MySQL中，字符串可以容纳从纯文本到二进制数据(如图像或文件)的任何内容。

字符串类型|描述
:--------:|:--
char|固定长度的非二进制(字符)字符串
varchar|可变长度的非二进制字符串
BINARY|一个固定长度的二进制字符串
VARBINARY|一个可变长度的二进制字符串
TINYBLOB|一个非常小的BLOB(二进制大对象)
BLOB|一个小的BLOB(二进制大对象)
MEDIUMBLOB|一个中等大小的BLOB(二进制大对象)
LONGBLOB|一个大的BLOB(二进制大对象)
TINYTEXT|一个非常小的非二进制字符串
TEXT|一个小的非二进制字符串
MEDIUMTEXT|一个中等大小的非二进制字符串
LONGTEXT|一个很大的非二进制字符串
ENUM|枚举; 每个列值可以被分配一个枚举成员
SET|集合; 每个列值可以分配零个或多个SET成员

### &emsp;1. CHAR

CHAR数据类型是MySQL中固定长度的字符类型。 我们经常声明CHAR类型，其长度指定要存储的最大字符数。 例如，CHAR(20)最多可以容纳20个字符。

如果要存储的数据是固定大小，则应使用CHAR数据类型。在这种情况下，与VARCHAR相比，您将获得更好的性能。

CHAR数据类型的长度可以是从0到255的任何值。当存储CHAR值时，MySQL将其值与空格填充到声明的长度。

当查询CHAR值时，MySQL会删除尾部的空格。

请注意，如果启用PAD_CHAR_TO_FULL_LENGTH SQL模式，MySQL将不会删除尾随空格。







